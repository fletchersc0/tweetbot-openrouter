<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>every idea ever /hr </title>

<!-- ────────── Load Pixelify Sans ────────── -->
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
  /* ────────── Global look ────────── */
  body {
    margin: 0;
    padding: 0;
    background: #d6c7aa;                /* parchment‑like backdrop */
    color: #000;
    font-family: "Pixelify Sans", monospace, sans-serif; /* pixel font */
    line-height: 1.35;
  }

  /* ────────── Terminal‑style frame ────────── */
  .frame {
    max-width: 900px;
    margin: 2rem auto;
    padding: 1.2rem;
    border: 1px solid #000;
    background: inherit;
    white-space: pre;                   /* keep ASCII art aligned */
    text-align: justify;
  }

  /* ensure *all* spans justify when they wrap */
  .frame span {
    display: block;
    text-align: justify;
  }

  /* ────────── Intro block (centred & justified) ────────── */
  .intro {
    max-width: 80%;
    margin: 0 auto;                     /* centre the block */
    text-align: justify;
  }

  /* ────────── Horizontal rule lines ────────── */
  .rule {
    margin: 0.7rem 0;
    display: block;
    height: 1px;
    background: #000;
  }

  /* ────────── Dynamic fields ────────── */
  #idx, #tweet, #reply, #countdown {
    white-space: pre-wrap;              /* wrap long LLM replies */
    word-break: break-word;
  }
</style>
</head>

<body>

<div class="frame">
<!-- ────────────────── ASCII HEADER ────────────────── -->
            __  __                   _              _        
           |  \/  | ___  _ __  _   _(_)_ __   ___  | |_ ___  
           | |\/| |/ _ \| '_ \| | | | | '_ \ / _ \ | __/ _ \ 
           | |  | | (_) | | | | |_| | | | | |  __/ | || (_) |
           |_|  |_|\___/|_| |_|\__, |_|_| |_|\___|  \__\___/ 
                               |___/                         

<!-- ────────── Intro block ────────── -->
<div class="intro">
─ E V E R Y  I D E A  E V E R  / H R ─

  choose what u seek, or it is chosen for u. but prefer to choose what is chosen for u . 

 +u r a creator  +u r a wanderer  +u r a burner  + u r a archivist  +u r a witness
</div>

 > Current index:
 <span id="idx">‑</span>

 > Idea String:
 <span id="tweet">‑</span>

 > Idea:
 <span id="reply">‑</span>

 <span id="countdown">‑</span>

 He's not perfect. You aren't either, and the two of you will never be  
 perfect. But if he can make you laugh at least once, causes you to think  
 twice… there's always one guy that is perfect for you — Bob M.

          \   ^__^
           \  (oo)\_______
              (__)\       )\/\
                  ||----w |
                  ||     ||
</div>

<script>
/* ------------- ORIGINAL FUNCTIONALITY INTACT ------------- */
async function refresh() {
  const res  = await fetch("/api/current");
  const data = await res.json();

  document.getElementById("idx").textContent   = data.index;
  document.getElementById("tweet").textContent = data.prompt;
  document.getElementById("reply").textContent = data.reply;

  let secs = data.seconds_until_next;

  function tick() {
    const m = String(Math.floor(secs / 60)).padStart(2, "0");
    const s = String(secs % 60).padStart(2, "0");

    document.getElementById("countdown").textContent =
        `Next idea in ${m}:${s}`;

    if (secs-- > 0) setTimeout(tick, 1000);
    else refresh();
  }
  tick();
}
refresh();
</script>

</body>
</html>
