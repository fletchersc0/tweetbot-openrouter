<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Every Idea Ever Per Hour — The Entertainment</title>
<style>
  /* ────────── Global look ────────── */
  body {
    margin: 0;
    padding: 0;
    background: #d6c7aa;          /* updated background */
    color: #000;
    font-family: "Courier New", monospace;
    line-height: 1.35;
  }

  /* ────────── Terminal‑style frame ────────── */
  .frame {
    max-width: 900px;
    margin: 2rem auto;
    padding: 1.2rem;
    border: 1px solid #000;
    background: inherit;          /* same colour inside */
    white-space: pre;             /* preserve ASCII art exactly */
    text-align: justify;
  }

  /* ensure *all* spans inside the frame justify when they wrap */
  .frame span {
    display: block;               /* allow full‑line justification */
    text-align: justify;
  }

  /* ────────── Centred intro block ────────── */
  .intro {
    max-width: 80%;               /* how wide the centred block should be */
    margin: 0 auto;               /* centres the whole block */
    text-align: justify;          /* keeps the lines justified */
  }

  /* ────────── Section rules ────────── */
  .rule {                         /* horizontal rule made of ─ */
    margin: 0.7rem 0;
    display: block;
    height: 1px;
    background: #000;
  }

  /* ────────── Dynamic fields ────────── */
  #idx, #tweet, #reply, #countdown {
    white-space: pre-wrap;        /* wrap long LLM replies */
    word-break: break-word;
  }
</style>
</head>

<body>

<div class="frame">
<!-- ────────────────── ASCII HEADER ────────────────── -->
            __  __                   _              _        
           |  \/  | ___  _ __  _   _(_)_ __   ___  | |_ ___  
           | |\/| |/ _ \| '_ \| | | | | '_ \ / _ \ | __/ _ \ 
           | |  | | (_) | | | | |_| | | | | |  __/ | || (_) |
           |_|  |_|\___/|_| |_|\__, |_|_| |_|\___|  \__\___/ 
                               |___/                         

<!-- ────────── Intro block (centred & justified) ────────── -->
<div class="intro">
─ A N I M E & T E C H   R E L A T E D   P R O C R A S T I N A T I O N ─
.rule
 Welcome to the Every‑Idea‑Ever engine — a live stream of entropy.  
 Use SSL, dammit!  Endpoint:  /api/current

 +to creator  +to wanderer  +to burner  +to archivist  +to witness
.rule
</div>

 > Current index:
 <span id="idx">‑</span>

 > Idea:
 <span id="tweet">‑</span>

 > LLM reply:
 <span id="reply">‑</span>

 <span id="countdown">‑</span>

.rule
 He's not perfect. You aren't either, and the two of you will never be  
 perfect. But if he can make you laugh at least once, causes you to think  
 twice… there's always one guy that is perfect for you — Bob M.
.rule

          \   ^__^
           \  (oo)\_______
              (__)\       )\/\
                  ||----w |
                  ||     ||
</div>

<script>
/* ------------- ORIGINAL FUNCTIONALITY INTACT ------------- */
async function refresh() {
  const res  = await fetch("/api/current");
  const data = await res.json();

  document.getElementById("idx").textContent   = data.index;
  document.getElementById("tweet").textContent = data.prompt;
  document.getElementById("reply").textContent = data.reply;

  let secs = data.seconds_until_next;

  function tick() {
    const m = String(Math.floor(secs / 60)).padStart(2, "0");
    const s = String(secs % 60).padStart(2, "0");

    document.getElementById("countdown").textContent =
        `> Next idea in ${m}:${s}`;

    if (secs-- > 0) setTimeout(tick, 1000);
    else refresh();
  }
  tick();
}
refresh();
</script>

</body>
</html>
